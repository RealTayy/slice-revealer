'use strict';function sliceRevealer(a,b){try{if(a instanceof jQuery)return new SliceRevealer(a[0],b);}catch(e){}try{if(a instanceof HTMLCollection)return new SliceRevealer(a[0],b);else if(a instanceof Element)return new SliceRevealer(a,b);else throw TypeError('Target must be a HTMLCollection or Element');}catch(e){throw e;}}function SliceRevealer(i,b){function j(c,d){var a=this;var e=d.direction;var f=d.sticky;var g=d.zIndex;var b=document.createElement('div');return b.className='sr__container',b.style.height='100%',b.style.width='100%',e==='vertical'?b.classList.add('sr__vertical'):b.classList.add('sr__horizontal'),f?(c.insertBefore(b,c.firstChild),b.style.position='sticky'):c.appendChild(b),b.style.zIndex=g,b.addEventListener('slicefinished',function(){a.isAnimating()||(a.queuedParameters&&a.queuedParameters.hasOwnProperty('newPosition')&&(a.queuedParameters.newOptions.queueAnimation=!1,a.goPhase(a.queuedParameters.newPosition,a.queuedParameters.newOptions),a.queuedParameters={}),a.queuedDoneCallback&&(a.queuedDoneCallback(a),a.queuedDoneCallback=undefined));}),b;}function k(i,b){var j=b.numOfSlices;var k=b.curPosition;var l=b.color;var d=[];var m=function b(h){var b=document.createElement('div');b.className='sr__slice',b.style.color=l,i.appendChild(b),d.push(b),a.push(h),e.push(-1),b.setAttribute('animating',!1),b.setAttribute('timeout',-1),b.setAttribute('index',h);var f=void 0;switch(g()){case'Opera':f='otransitionend';break;case'Safari':f='webkitTransitionEnd';break;case'Chrome':case'Firefox':case'IE':default:f='transitionend';}b.addEventListener(f,function(e){var a=parseInt(e.target.getAttribute('timeout'));var d=c.sliceAnimations[h];a!==d||(b.setAttribute('animating',!1),b.style.transitionDuration='',i.dispatchEvent(c.sliceFinished));});};for(var h=0;h<j;h++)m(h);return this.resetPosition(k,b,d),b.transitionOrder==='random'?a=f(a):b.transitionOrder==='reverse'?a=a.reverse():Array.isArray(b.transitionOrder)&&(a=b.transitionOrder),d;}function l(d,b,f){b=_extends({},this.options,b);var h=b.direction;var i=b.numOfSlices;var j=b.color;d=d||b.startPosition,f=f||this.slices;for(var e=0;e<f.length;e++){var a=f[e];a.setAttribute('animating',!1),a.style.color=j;var g=void 0;Array.isArray(d)?g=d[e]:g=d;var c=this.getTransform(g,h,i);a.style.webkitTransform=c,a.style.MozTransform=c,a.style.msTransform=c,a.style.OTransform=c,a.style.transform=c;}}function m(a,d,c){a==='start'?a=this.options.startPosition:a==='halfway'?a=this.options.halfwayPosition:a==='end'&&(a=this.options.endPosition);var b=1;d==='vertical'?a==='top'||a==='bottom'||(b=c):(a==='top'||a==='bottom')&&(b=c);switch(a){case'top':return'translate(0%, calc(-'+b*100+'% - 5px))';case'bottom':return'translate(0%, calc('+b*100+'% + 5px))';case'left':return'translate(calc(-'+b*100+'% - 5px), 0%)';case'right':return'translate(calc('+b*100+'% + 5px), 0%)';case'middle':return'translate(0%, 0%)';default:return'translate(0%, 0%)';}}function f(a){a=a.slice();var b=a.length,d=void 0,c=void 0;while(0!==b)c=Math.floor(Math.random()*b),b-=1,d=a[b],a[b]=a[c],a[c]=d;return a;}function g(){return(navigator.userAgent.indexOf('Opera')||navigator.userAgent.indexOf('OPR'))!=-1?'Opera':navigator.userAgent.indexOf('Chrome')!=-1?'Chrome':navigator.userAgent.indexOf('Safari')!=-1?'Safari':navigator.userAgent.indexOf('Firefox')!=-1?'Firefox':navigator.userAgent.indexOf('MSIE')!=-1||!!document.documentMode==1?'IE':'unknown';}var c=this;var d='left';var a=[];var e=[];b&&(d=b.startPosition);var h={direction:'horizontal',numOfSlices:8,sliceDuration:0.8,totalDuration:1.3,startPosition:'left',halfwayPosition:'middle',endPosition:'middle',curPosition:d||'left',color:'#ffffff',queueAnimation:!1,startOptions:{},halfwayOptions:{},endOptions:{},sticky:!1,zIndex:1};this.initializeSRContainer=j,this.initializeSRSlices=k,this.resetPosition=l,this.getTransform=m,this.shuffle=f,this.getBrowser=g,this.options=_extends({},h,b),this.target=i,this.container=this.initializeSRContainer(this.target,this.options),this.slices=this.initializeSRSlices(this.container,this.options),this.queuedDoneCallback,this.queuedParameters={},this.currentAnimation,this.sliceAnimations=e,this.transitionOrder=a,this.sliceFinished=new CustomEvent('slicefinished');}var _extends=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);}return d;};SliceRevealer.prototype.goPhase=function(e){var b=this;var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c=_extends({},this.options[e+'Options'],c);var a=_extends({},this.options,c);var f=a[e+'Position'];var k=a.direction;var l=a.numOfSlices;var h=a.sliceDuration*1000;var m=a.totalDuration*1000;var n=a.color;var i=a.startCB;var o=a.doneCB;var p=a.initialDelay?a.initialDelay*1000:0;var q=a.queueAnimation;var d=c.transitionOrder!==undefined?c.transitionOrder:this.transitionOrder;d==='random'?d=this.shuffle(this.transitionOrder):d==='reverse'?d=this.transitionOrder.slice().reverse():d==='standard'&&(d=this.transitionOrder.slice().sort());var g=this.slices;var j=m-h;var r=j/(g.length-1||j);q&&this.isAnimating()?this.queuedParameters.newPosition===e&&this.queuedParameters.newOptions===c||(this.queuedParameters.newPosition=e,this.queuedParameters.newOptions=c):(clearTimeout(this.currentAnimation),this.currentAnimation=setTimeout(function(){i&&i(b);var c=function a(e){var c=d[e];var a=g[c];var i=e*r;clearTimeout(b.sliceAnimations[c]),b.sliceAnimations[c]=setTimeout(function(){a.style.color=n;var e=void 0;Array.isArray(f)?e=f[c]:e=f;var d=b.getTransform(e,k,l);a.style.webkitTransform===d||a.style.MozTransform===d||a.style.msTransform===d||a.style.OTransform===d||a.style.transform===d?a.getAttribute('animating')==='true'&&(a.setAttribute('animating',!1),a.style.transitionDuration='',b.container.dispatchEvent(b.sliceFinished)):(a.style.transitionDuration=h/1000+'s',a.style.webkitTransform=d,a.style.MozTransform=d,a.style.msTransform=d,a.style.OTransform=d,a.style.transform=d,a.setAttribute('animating',!0));},i),a.setAttribute('timeout',b.sliceAnimations[c]);};for(var a=0;a<g.length;a++)c(a);b.queuedDoneCallback=o;},p));},SliceRevealer.prototype.isAnimating=function(){var a=this;var b=this.slices.some(function(e,b){if(e.getAttribute('animating')==='true')return!0;var c=parseInt(a.slices[b].getAttribute('timeout'));var d=a.sliceAnimations[b];return c!==d?!0:!1;});return b;},SliceRevealer.prototype.destroy=function(){this.container.remove();};