'use strict';function sliceRevealer(a,b){try{if(a instanceof jQuery)return new SliceRevealer(a[0],b);}catch(e){}try{if(a instanceof HTMLCollection)return new SliceRevealer(a[0],b);else if(a instanceof Element)return new SliceRevealer(a,b);else throw TypeError('Target must be a HTMLCollection or Element');}catch(e){throw e;}}function SliceRevealer(h,b){function i(d,e){var a=this;var c=e.direction;var b=document.createElement('div');return b.className='sr__container',b.style.height='100%',b.style.width='100%',c==='vertical'?b.classList.add('sr__vertical'):b.classList.add('sr__horizontal'),d.appendChild(b),b.addEventListener('slicefinished',function(){a.isAnimating()||(a.queuedParameters&&a.queuedParameters.hasOwnProperty('newPosition')&&(a.queuedParameters.newOptions.queueAnimation=!1,a.doIt(a.queuedParameters.newPosition,a.queuedParameters.newOptions),a.queuedParameters={}),a.queuedDoneCallback&&(a.queuedDoneCallback(a),a.queuedDoneCallback=undefined));}),b;}function j(h,b){var i=b.numOfSlices;var j=b.curPosition;var k=b.startOpacity;var l=b.startColor;var d=[];var m=function b(f){var b=document.createElement('div');b.className='sr__slice',b.style.opacity=k,b.style.color=l,h.appendChild(b),d.push(b),a.push(f),e.push(''),b.setAttribute('animating',!1),b.setAttribute('index',f),b.addEventListener('transitionend',function(e){var a=parseInt(e.target.getAttribute('timeout'));var d=c.sliceAnimations[f];a!==d||(b.setAttribute('animating',!1),b.style.transitionDuration='',h.dispatchEvent(c.sliceFinished));});};for(var g=0;g<i;g++)m(g);return this.resetPosition(j,b,d),b.transitionOrder==='random'?a=f(a):b.transitionOrder==='random'&&(a=a.reverse()),d;}function k(d,b,f){b=_extends({},this.options,b);var h=b.direction;var i=b.numOfSlices;var j=b.startColor;d=d||b.startPosition,f=f||this.slices;for(var e=0;e<f.length;e++){var a=f[e];a.setAttribute('animating',!1),a.style.color=j;var g=void 0;Array.isArray(d)?g=d[e]:g=d;var c=this.getTransform(g,h,i);a.style.webkitTransform=c,a.style.MozTransform=c,a.style.msTransform=c,a.style.OTransform=c,a.style.transform=c;}}function l(a,d,c){a==='start'?a=this.options.startPosition:a==='halfway'?a=this.options.halfwayPosition:a==='end'&&(a=this.options.endPosition);var b=1;d==='vertical'?a==='top'||a==='bottom'||(b=c):(a==='top'||a==='bottom')&&(b=c);switch(a){case'top':return'translate(0%, calc(-'+b*100+'% - 5px))';case'bottom':return'translate(0%, calc('+b*100+'% + 5px))';case'left':return'translate(calc(-'+b*100+'% - 5px), 0%)';case'right':return'translate(calc('+b*100+'% + 5px), 0%)';case'middle':return'translate(0%, 0%)';default:return'translate(0%, 0%)';}}function f(a){a=a.slice();var b=a.length,d=void 0,c=void 0;while(0!==b)c=Math.floor(Math.random()*b),b-=1,d=a[b],a[b]=a[c],a[c]=d;return a;}var c=this;var d='left';var a=[];var e=[];b&&(d=b.startPosition);var g={direction:'horizontal',numOfSlices:8,sliceDuration:1,totalDuration:1.6,startPosition:'left',halfwayPosition:'middle',endPosition:'middle',curPosition:d||'left',startOpacity:1,halfwayOpacity:1,endOpacity:1,startColor:'#ffffff',halfwayColor:'#ffffff',endColor:'#ffffff',queueAnimation:!1,startCB:function a(){},doneCB:function a(){}};this.initializeSRContainer=i,this.initializeSRSlices=j,this.resetPosition=k,this.getTransform=l,this.shuffle=f,this.options=_extends({},g,b),this.target=h,this.container=this.initializeSRContainer(this.target,this.options),this.slices=this.initializeSRSlices(this.container,this.options),this.queuedDoneCallback,this.queuedParameters=undefined,this.currentAnimation,this.sliceAnimations=e,this.transitionOrder=a,this.sliceFinished=new CustomEvent('slicefinished');}var _extends=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);}return d;};SliceRevealer.prototype.doIt=function(f,g){var b=this;var c=g.transitionOrder;var a=_extends({},this.options,g);var h=a.sliceDuration*1000;var k=a.totalDuration*1000;var l=a.direction;var m=a.numOfSlices;var d=a[f+'Position'];var n=a.color||a[f+'Color'];var i=a.startCB;var o=a.doneCB;var p=a.initialDelay?a.initialDelay*1000:0;var q=a.queueAnimation;var e=this.slices;var j=k-h;var r=j/(e.length-1||j);c==='random'?c=this.shuffle(this.transitionOrder):c==='reverse'?c=this.transitionOrder.slice().reverse():c=this.transitionOrder,q?(this.queuedParameters={},this.queuedParameters.newPosition=f,this.queuedParameters.newOptions=g):(clearTimeout(this.currentAnimation),this.currentAnimation=setTimeout(function(){i&&i(b);var f=function a(g){var f=c[g];var a=e[f];var i=g*r;clearTimeout(b.sliceAnimations[f]),b.sliceAnimations[f]=setTimeout(function(){a.setAttribute('timeout',b.sliceAnimations[f]),a.style.color=n;var e=void 0;Array.isArray(d)?e=d[f]:e=d;var c=b.getTransform(e,l,m);a.style.webkitTransform===c||a.style.MozTransform===c||a.style.msTransform===c||a.style.OTransform===c||a.style.transform===c?a.getAttribute('animating')==='true':(a.setAttribute('animating',!0),a.style.transitionDuration=h/1000+'s',a.style.webkitTransform=c,a.style.MozTransform=c,a.style.msTransform=c,a.style.OTransform=c,a.style.transform=c);},i);};for(var a=0;a<e.length;a++)f(a);b.queuedDoneCallback=o;},p));},SliceRevealer.prototype.isAnimating=function(){var a=this;return this.slices.some(function(e,b){if(e.getAttribute('animating')==='true')return!0;var c=parseInt(a.slices[b].getAttribute('timeout'));var d=a.sliceAnimations[b];return c!==d?!0:!1;});},SliceRevealer.prototype.destroy=function(){this.container.remove();};