'use strict';function sliceRevealer(a,b){try{if(a instanceof jQuery)return new SliceRevealer(a[0],b);}catch(e){}try{if(a instanceof HTMLCollection)return new SliceRevealer(a[0],b);else if(a instanceof Element)return new SliceRevealer(a,b);else throw TypeError('Target must be a HTMLCollection or Element');}catch(e){throw e;}}function SliceRevealer(h,b){function i(d,e){var a=this;var c=e.direction;var b=document.createElement('div');return b.className='sr__container',b.style.height='100%',b.style.width='100%',c==='vertical'?b.classList.add('sr__vertical'):b.classList.add('sr__horizontal'),d.appendChild(b),b.addEventListener('slicefinished',function(){a.isAnimating()||(a.queuedParameters.hasOwnProperty('newPosition')&&(a.queuedParameters.newOptions.queueAnimation=!1,a.doIt(a.queuedParameters.newPosition,a.queuedParameters.newOptions),a.queuedParameters={}),a.queuedDoneCallback&&(a.queuedDoneCallback(a),a.queuedDoneCallback=undefined));}),b;}function j(h,b){var i=b.numOfSlices;var j=b.sliceDuration;var k=b.curPosition;var l=b.startOpacity;var m=b.startColor;var c=[];var n=function b(e){var b=document.createElement('div');b.className='sr__slice',b.style.transitionDuration=j+'s',b.style.opacity=l,b.style.color=m,h.appendChild(b),c.push(b),a.push(e),d.push(''),b.setAttribute('animating',!1),b.addEventListener('transitionend',function(){b.setAttribute('animating',!1),h.dispatchEvent(f.sliceFinished);});};for(var g=0;g<i;g++)n(g);return this.resetPosition(k,b,c),b.transitionOrder==='random'?a=e(a):b.transitionOrder==='random'&&(a=a.reverse()),c;}function k(b,a,c){var e=this;a=_extends({},this.options,a);var f=a.direction;var g=a.numOfSlices;var h=a.startColor;b=b||a.startPosition,c=c||this.slices;var i=function a(j){var a=c[j];var k=a.style.transitionDuration;a.classList.add('resetting'),a.style.color=h;var i=void 0;Array.isArray(b)?i=b[j]:i=b;var d=e.getTransform(i,f,g);a.style.webkitTransform=d,a.style.MozTransform=d,a.style.msTransform=d,a.style.OTransform=d,a.style.transform=d,setTimeout(function(){return a.classList.remove('resetting');},25);};for(var d=0;d<c.length;d++)i(d);}function l(a,d,c){a==='start'?a=this.options.startPosition:a==='halfway'?a=this.options.halfwayPosition:a==='end'&&(a=this.options.endPosition);var b=1;d==='vertical'?a==='top'||a==='bottom'||(b=c):(a==='top'||a==='bottom')&&(b=c);switch(a){case'top':return'translate(0%, calc(-'+b*100+'% - 1px))';case'bottom':return'translate(0%, calc('+b*100+'% + 1px))';case'left':return'translate(calc(-'+b*100+'% - 1px), 0%)';case'right':return'translate(calc('+b*100+'% + 1px), 0%)';case'middle':return'translate(0%, 0%)';default:return'translate(0%, 0%)';}}function e(a){a=a.slice();var b=a.length,d=void 0,c=void 0;while(0!==b)c=Math.floor(Math.random()*b),b-=1,d=a[b],a[b]=a[c],a[c]=d;return a;}var f=this;var c='left';var a=[];var d=[];b&&(c=b.startPosition);var g={direction:'horizontal',numOfSlices:8,sliceDuration:1,totalDuration:1.6,startPosition:'left',halfwayPosition:'middle',endPosition:'middle',curPosition:c||'left',startOpacity:1,halfwayOpacity:1,endOpacity:1,startColor:'#ffffff',halfwayColor:'#ffffff',endColor:'#ffffff',queueAnimation:!1,startCB:function a(){},doneCB:function a(){}};this.initializeSRContainer=i,this.initializeSRSlices=j,this.resetPosition=k,this.getTransform=l,this.shuffle=e,this.options=_extends({},g,b),this.target=h,this.container=this.initializeSRContainer(this.target,this.options),this.slices=this.initializeSRSlices(this.container,this.options),this.queuedDoneCallback,this.queuedParameters=undefined,this.currentAnimation,this.sliceAnimations=d,this.transitionOrder=a,this.sliceFinished=new CustomEvent('slicefinished');}var _extends=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);}return d;};SliceRevealer.prototype.doIt=function(e,f){var b=this;var c=f.transitionOrder;var a=_extends({},this.options,f);var j=a.sliceDuration*1000;var k=a.totalDuration*1000;var l=a.direction;var m=a.numOfSlices;var d=a[e+'Position'];var n=a.color||a[e+'Color'];var g=a.startCB;var o=a.doneCB;var p=a.initialDelay?a.initialDelay*1000:0;var q=a.queueAnimation;var h=this.slices;var i=k-j;var r=i/(h.length-1||i);c==='random'?c=this.shuffle(this.transitionOrder):c==='reverse'?c=this.transitionOrder.slice().reverse():c=this.transitionOrder,q?(this.queuedParameters={},this.queuedParameters.newPosition=e,this.queuedParameters.newOptions=f):(clearTimeout(this.currentAnimation),this.currentAnimation=setTimeout(function(){g&&g(b);var e=function a(e){var a=h[c[e]];var f=e*r;clearTimeout(b.sliceAnimations[e]),b.sliceAnimations[e]=setTimeout(function(){a.setAttribute('animating',!0),a.classList.add('animating'),a.style.color=n;var f=void 0;Array.isArray(d)?f=d[e]:f=d;var c=b.getTransform(f,l,m);a.style.webkitTransform===c||a.style.MozTransform===c||a.style.msTransform===c||a.style.OTransform===c||a.style.transform===c?(a.setAttribute('animating',!1),b.container.dispatchEvent(b.sliceFinished)):(a.style.webkitTransform=c,a.style.MozTransform=c,a.style.msTransform=c,a.style.OTransform=c,a.style.transform=c);},f);};for(var a=0;a<c.length;a++)e(a);b.queuedDoneCallback=o;},p));},SliceRevealer.prototype.isAnimating=function(){return this.slices.some(function(a){return a.getAttribute('animating')==='true';});},SliceRevealer.prototype.destroy=function(){this.container.remove();};